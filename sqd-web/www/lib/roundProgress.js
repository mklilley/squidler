"use strict";!function(){for(var e=0,n=["webkit","moz"],t=0;t<n.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[n[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n[t]+"CancelAnimationFrame"]||window[n[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-e)),a=window.setTimeout(function(){n(t+r)},r);return e=t+r,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){window.clearTimeout(e)})}(),angular.module("angular-svg-round-progress",[]),angular.module("angular-svg-round-progress").constant("roundProgressConfig",{max:50,semi:!1,rounded:!1,responsive:!1,clockwise:!0,radius:100,color:"#45ccce",bgcolor:"#eaeaea",stroke:15,duration:800,animation:"easeOutCubic",animationDelay:0,offset:0}),angular.module("angular-svg-round-progress").service("roundProgressService",[function(){var e={},n=angular.isNumber,t=document.head.querySelector("base");e.resolveColor=t&&t.href?function(e){var n=e.indexOf("#");return n>-1&&e.indexOf("url")>-1?e.slice(0,n)+window.location.href+e.slice(n):e}:function(e){return e},e.isSupported=!(!document.createElementNS||!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect);var r=function(e,n,t,r){var a=(r-90)*Math.PI/180;return{x:e+t*Math.cos(a),y:n+t*Math.sin(a)}};return e.toNumber=function(e){return n(e)?e:parseFloat((e+"").replace(",","."))},e.getOffset=function(n,t){var r=+t.offset||0;if("inherit"===t.offset)for(var a,o=n;!o.hasClass("round-progress-wrapper");)e.isDirective(o)&&(a=o.scope().$parent.getOptions(),r+=(+a.offset||0)+(+a.stroke||0)),o=o.parent();return r},e.updateState=function(e,n,t,a,o,i){if(!o)return a;var u=e>0?Math.min(e,n):0,s=i?180:359.9999,c=0===n?0:u/n*s,f=o/2,d=r(f,f,t,c),l=r(f,f,t,0),m=180>=c?"0":"1",h=["M",d.x,d.y,"A",t,t,0,m,0,l.x,l.y].join(" ");return a.attr("d",h)},e.isDirective=function(e){return e&&e.length?"undefined"!=typeof e.attr("round-progress")||"round-progress"===e[0].nodeName.toLowerCase():!1},e.animations={linearEase:function(e,n,t,r){return t*e/r+n},easeInQuad:function(e,n,t,r){return t*(e/=r)*e+n},easeOutQuad:function(e,n,t,r){return-t*(e/=r)*(e-2)+n},easeInOutQuad:function(e,n,t,r){return(e/=r/2)<1?t/2*e*e+n:-t/2*(--e*(e-2)-1)+n},easeInCubic:function(e,n,t,r){return t*(e/=r)*e*e+n},easeOutCubic:function(e,n,t,r){return t*((e=e/r-1)*e*e+1)+n},easeInOutCubic:function(e,n,t,r){return(e/=r/2)<1?t/2*e*e*e+n:t/2*((e-=2)*e*e+2)+n},easeInQuart:function(e,n,t,r){return t*(e/=r)*e*e*e+n},easeOutQuart:function(e,n,t,r){return-t*((e=e/r-1)*e*e*e-1)+n},easeInOutQuart:function(e,n,t,r){return(e/=r/2)<1?t/2*e*e*e*e+n:-t/2*((e-=2)*e*e*e-2)+n},easeInQuint:function(e,n,t,r){return t*(e/=r)*e*e*e*e+n},easeOutQuint:function(e,n,t,r){return t*((e=e/r-1)*e*e*e*e+1)+n},easeInOutQuint:function(e,n,t,r){return(e/=r/2)<1?t/2*e*e*e*e*e+n:t/2*((e-=2)*e*e*e*e+2)+n},easeInSine:function(e,n,t,r){return-t*Math.cos(e/r*(Math.PI/2))+t+n},easeOutSine:function(e,n,t,r){return t*Math.sin(e/r*(Math.PI/2))+n},easeInOutSine:function(e,n,t,r){return-t/2*(Math.cos(Math.PI*e/r)-1)+n},easeInExpo:function(e,n,t,r){return 0==e?n:t*Math.pow(2,10*(e/r-1))+n},easeOutExpo:function(e,n,t,r){return e==r?n+t:t*(-Math.pow(2,-10*e/r)+1)+n},easeInOutExpo:function(e,n,t,r){return 0==e?n:e==r?n+t:(e/=r/2)<1?t/2*Math.pow(2,10*(e-1))+n:t/2*(-Math.pow(2,-10*--e)+2)+n},easeInCirc:function(e,n,t,r){return-t*(Math.sqrt(1-(e/=r)*e)-1)+n},easeOutCirc:function(e,n,t,r){return t*Math.sqrt(1-(e=e/r-1)*e)+n},easeInOutCirc:function(e,n,t,r){return(e/=r/2)<1?-t/2*(Math.sqrt(1-e*e)-1)+n:t/2*(Math.sqrt(1-(e-=2)*e)+1)+n},easeInElastic:function(e,n,t,r){var a=1.70158,o=0,i=t;return 0==e?n:1==(e/=r)?n+t:(o||(o=.3*r),i<Math.abs(t)?(i=t,a=o/4):a=o/(2*Math.PI)*Math.asin(t/i),-(i*Math.pow(2,10*(e-=1))*Math.sin(2*(e*r-a)*Math.PI/o))+n)},easeOutElastic:function(e,n,t,r){var a=1.70158,o=0,i=t;return 0==e?n:1==(e/=r)?n+t:(o||(o=.3*r),i<Math.abs(t)?(i=t,a=o/4):a=o/(2*Math.PI)*Math.asin(t/i),i*Math.pow(2,-10*e)*Math.sin(2*(e*r-a)*Math.PI/o)+t+n)},easeInOutElastic:function(e,n,t,r){var a=1.70158,o=0,i=t;return 0==e?n:2==(e/=r/2)?n+t:(o||(o=.3*r*1.5),i<Math.abs(t)?(i=t,a=o/4):a=o/(2*Math.PI)*Math.asin(t/i),1>e?-.5*i*Math.pow(2,10*(e-=1))*Math.sin(2*(e*r-a)*Math.PI/o)+n:i*Math.pow(2,-10*(e-=1))*Math.sin(2*(e*r-a)*Math.PI/o)*.5+t+n)},easeInBack:function(e,n,t,r,a){return void 0==a&&(a=1.70158),t*(e/=r)*e*((a+1)*e-a)+n},easeOutBack:function(e,n,t,r,a){return void 0==a&&(a=1.70158),t*((e=e/r-1)*e*((a+1)*e+a)+1)+n},easeInOutBack:function(e,n,t,r,a){return void 0==a&&(a=1.70158),(e/=r/2)<1?t/2*e*e*(((a*=1.525)+1)*e-a)+n:t/2*((e-=2)*e*(((a*=1.525)+1)*e+a)+2)+n},easeInBounce:function(n,t,r,a){return r-e.animations.easeOutBounce(a-n,0,r,a)+t},easeOutBounce:function(e,n,t,r){return(e/=r)<1/2.75?7.5625*t*e*e+n:2/2.75>e?t*(7.5625*(e-=1.5/2.75)*e+.75)+n:2.5/2.75>e?t*(7.5625*(e-=2.25/2.75)*e+.9375)+n:t*(7.5625*(e-=2.625/2.75)*e+.984375)+n},easeInOutBounce:function(n,t,r,a){return a/2>n?.5*e.animations.easeInBounce(2*n,0,r,a)+t:.5*e.animations.easeOutBounce(2*n-a,0,r,a)+.5*r+t}},e}]),angular.module("angular-svg-round-progress").directive("roundProgress",["$window","roundProgressService","roundProgressConfig",function(e,n,t){var r={restrict:"EA",replace:!0,transclude:!0,scope:{current:"=",max:"=",semi:"=",rounded:"=",clockwise:"=",responsive:"=",onRender:"=",radius:"@",color:"@",bgcolor:"@",stroke:"@",duration:"@",animation:"@",offset:"@",animationDelay:"@"}};return n.isSupported?angular.extend(r,{link:function(a,o){var i,u,s=!o.hasClass("round-progress-wrapper"),c=s?o:o.find("svg").eq(0),f=c.find("path").eq(0),d=c.find("circle").eq(0),l=angular.copy(t),m=0;a.getOptions=function(){return l};var h=function(){var e=l.semi,t=l.responsive,r=+l.radius||0,a=+l.stroke,i=2*r,u=r-a/2-n.getOffset(o,l);c.css({top:0,left:0,position:t?"absolute":"static",width:t?"100%":i+"px",height:t?"100%":(e?r:i)+"px",overflow:"hidden"}),s||(c[0].setAttribute("viewBox","0 0 "+i+" "+(e?r:i)),o.css({width:t?"100%":"auto",position:"relative","padding-bottom":t?e?"50%":"100%":0})),o.css({width:t?"100%":"auto",position:"relative","padding-bottom":t?e?"50%":"100%":0}),f.css({stroke:n.resolveColor(l.color),"stroke-width":a,"stroke-linecap":l.rounded?"round":"butt"}),e?f.attr("transform",l.clockwise?"translate(0,"+i+") rotate(-90)":"translate("+i+", "+i+") rotate(90) scale(-1, 1)"):f.attr("transform",l.clockwise?"":"scale(-1, 1) translate("+-i+" 0)"),d.attr({cx:r,cy:r,r:u>=0?u:0}).css({stroke:n.resolveColor(l.bgcolor),"stroke-width":a})},p=function(t,r,a){var u=n.toNumber(l.max||0),s=t>0?e.Math.min(t,u):0,c=r===s||0>r?0:r||0,d=s-c,h=n.animations[l.animation],p=+l.duration||0,g=a||t>u&&r>u||0>t&&0>r||25>p,w=l.radius,v=w-l.stroke/2-n.getOffset(o,l),M=2*w,O=l.semi,I=function(){if(g)n.updateState(s,u,v,f,M,O),l.onRender&&l.onRender(s,l,o);else{var t=new e.Date,r=++m;!function a(){var i=e.Math.min(new Date-t,p),s=h(i,c,d,p);n.updateState(s,u,v,f,M,O),l.onRender&&l.onRender(s,l,o),r===m&&p>i&&e.requestAnimationFrame(a)}()}};l.animationDelay>0?(e.clearTimeout(i),e.setTimeout(I,l.animationDelay)):I()},g=Object.keys(r.scope).filter(function(e){return"current"!==e});a.$watchGroup(g,function(e){for(var n=0;n<e.length;n++)"undefined"!=typeof e[n]&&(l[g[n]]=e[n]);h(),a.$broadcast("$parentOffsetChanged"),"inherit"!==l.offset||u?"inherit"!==l.offset&&u&&u():u=a.$on("$parentOffsetChanged",function(){p(a.current,a.current,!0),h()})}),a.$watchGroup(["current","max","radius","stroke","semi","offset"],function(e,t){p(n.toNumber(e[0]),n.toNumber(t[0]))})},template:function(e){for(var t=e.parent(),r="round-progress",a=['<svg class="'+r+'" xmlns="http://www.w3.org/2000/svg">','<circle fill="none"/>','<path fill="none"/>',"<g ng-transclude></g>","</svg>"];t.length&&!n.isDirective(t);)t=t.parent();return t&&t.length||(a.unshift('<div class="round-progress-wrapper">'),a.push("</div>")),a.join("\n")}}):angular.extend(r,{template:'<div class="round-progress" ng-transclude></div>'})}]);