!function(){function r(r,e){for(var n in e)r[n]=r[n]||e[n]}function e(r,e){return"function"==typeof r?r:e}function n(r){switch(r[0].nodeName){case"SOURCE":return r.parent();default:return r}}function c(r,e){return angular.element(e('<div style="{{circleContainerStyle}}"><div round-progress  max="max"  current="progress"  color="{{color}}" bgcolor="{{bgcolor}}"  radius="{{radius}}"  stroke="{{stroke}}"  rounded="rounded" clockwise="clockwise" iterations="{{iterations}}"  animation="{{animation}}"></div></div>')(r))}function o(){for(var r="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;16>n;n++)r+=e.charAt(Math.floor(Math.random()*e.length));return r}function i(r,e){for(var n=0;n<e.length;n++){var c=e[n];if(0===r.indexOf(c))return!0}return!1}function a(r){return i(r,["http://","https://","ftp://"])?!0:!1}var t={color:"#1D5ECE",bgcolor:"#eaeaea",semi:!1,rounded:!1,clockwise:!0,radius:"15",stroke:"5",max:100,iterations:50,animation:"easeOutCubic",interval:200,showProgressCircleInBrowser:!0,showProgressCircleInDevice:!0,circleContainerStyle:"text-align:center"},s=function(r,e,n,c){r.progress=c.progress},u=function(e,o,i,a){function s(){l=c(e,i),a.display=u.css("display"),u.css("display","none"),u.after(l)}var u=n(o);if("background"==e.srcIs)u.css("background",e.backgroundLoadingStyle);else if("VIDEO"!=o[0].nodeName&&"AUDIO"!=o[0].nodeName){r(e,t);var l;window.cordova?e.showProgressCircleInDevice&&s():e.showProgressCircleInBrowser&&s(),a.progress_circle=l}},l=function(r,e,c,o){function i(){a.css("display",o.display),o.progress_circle.remove()}if("background"!=r.srcIs&&"VIDEO"!=e[0].nodeName&&"AUDIO"!=e[0].nodeName){var a=n(e);window.cordova?r.showProgressCircleInDevice&&i():r.showProgressCircleInBrowser&&i()}},g={interval:200,backgroundStyle:"",backgroundLoadingStyle:"url('lib/ionic-cache-src/img/loader.gif') no-repeat center",uiOnStart:u,uiOnFinish:l,uiOnProgress:s,expire:1/0},h=function(){};angular.module("ionic-cache-src",["ionic","angular-svg-round-progress","ngCordova","ngStorage"]).provider("$cacheSrc",function(){this.config=g,this.set=function(r,e){var n=typeof r;return"object"==n?angular.extend(this.config,r):"string"==n&&(this.config[r]=e),this},this.$get=function(){return this.config}}).factory("cacheSrcStorage",["$localStorage",function(r){var e={};return e._cache=r.cache_src||{},e.get=function(r){if(a(r)){var n=e._cache[r]&&h()+e._cache[r];return n||r}return void 0},e.set=function(r,n){return e._cache[r]=n,e},e.reset=function(e){void 0!=e?delete r.cache_src[e]:r.cache_src={}},e}]).directive("cacheSrc",["$ionicPlatform","$window","$interval","$timeout","$compile","$cacheSrc","$cordovaFileTransfer","$localStorage",function(c,i,t,s,u,l,g,h){return{restrict:"A",priority:99,scope:{onProgress:"=?",onFinish:"=?",onError:"=?",onStart:"=?",uiOnStart:"=?",uiOnProgress:"=?",uiOnFinish:"=?"},link:function(s,d,f){function p(r){"background"==s.srcIs?n(d).css("background","url('"+r+"') "+s.backgroundStyle):n(d).attr(s.srcIs||"src",r)}function S(r){p(r),s.onFinish(r)}function v(){var r="."+f.cacheSrc.split(".").pop(),e=o()+r;g.download(f.cacheSrc,y()+e,{},!0).then(function(){P[f.cacheSrc]=e,1/0!==s.expire&&(b[f.cacheSrc]=Date.now()),S(y()+e)},s.onError,angular.noop)}function w(){var r={};s.onStart(f.cacheSrc),s.uiOnStart(s,d,u,r);var e="."+f.cacheSrc.split(".").pop(),n=o()+e;g.download(f.cacheSrc,y()+n,{},!0).then(function(){P[f.cacheSrc]=n,1/0!==s.expire&&(b[f.cacheSrc]=Date.now()),s.uiOnFinish(s,d,u,r),S(y()+n)},s.onError,function(e){r.progress=e.loaded/e.total*100,s.uiOnProgress(s,d,u,r),s.onProgress(r.progress)})}function O(){S(y()+P[f.cacheSrc])}r(s,l);for(var m in f)angular.isFunction(s[m])||(s[m]=f[m]);if(s.expire=parseInt(s.expire)||l.expire,s.onProgress=e(s.onProgress,angular.noop),s.onFinish=e(s.onFinish,angular.noop),s.onError=e(s.onError,angular.noop),s.onStart=e(s.onStart,angular.noop),s.uiOnProgress=e(s.uiOnProgress,angular.noop),s.uiOnFinish=e(s.uiOnFinish,angular.noop),s.uiOnStart=e(s.uiOnStart,angular.noop),i.cordova){var y=function(){switch(device.platform){case"iOS":return i.cordova.file.documentsDirectory;case"Android":return i.cordova.file.dataDirectory;case"windows":return i.cordova.file.dataDirectory}return""},P=h.cache_src=h.cache_src||{},b=h.cache_src_create_time=h.cache_src_create_time||{};c.ready(function(){f.$observe("cacheSrc",function(){if(f.cacheSrc)if(a(f.cacheSrc))if(P[f.cacheSrc]){var r=Date.now(),e=b[f.cacheSrc]||1/0;r-e<1e3*s.expire?O():(p(y()+P[f.cacheSrc]),v())}else w();else S(f.cacheSrc)})})}else f.$observe("cacheSrc",function(){if(f.cacheSrc)if(a(f.cacheSrc)){var r={};s.onStart(f.cacheSrc),s.uiOnStart(s,d,u,r),r.progress=s.progress||0;var e=t(function(){r.progress+=10,s.uiOnProgress(s,d,u,r),s.onProgress(r.progress),100==r.progress&&(t.cancel(e),s.uiOnFinish(s,d,u,r),S(f.cacheSrc))},s.interval)}else S(f.cacheSrc)})}}}])}();