"use strict";!function(){function e(e){return["$rootScope","$window","$log",function(n,a,o){for(var r,t,l,u=a[e]||(o.warn("This browser does not support Web Storage!"),{}),g={$default:function(e){for(var n in e)angular.isDefined(g[n])||(g[n]=e[n]);return g},$reset:function(e){for(var n in g)"$"===n[0]||delete g[n];return g.$default(e)}},i=0;i<u.length;i++)(l=u.key(i))&&"ngStorage-"===l.slice(0,10)&&(g[l.slice(10)]=angular.fromJson(u.getItem(l)));return r=angular.copy(g),n.$watch(function(){t||(t=setTimeout(function(){if(t=null,!angular.equals(g,r)){angular.forEach(g,function(e,n){angular.isDefined(e)&&"$"!==n[0]&&u.setItem("ngStorage-"+n,angular.toJson(e)),delete r[n]});for(var e in r)u.removeItem("ngStorage-"+e);r=angular.copy(g)}},100))}),"localStorage"===e&&a.addEventListener&&a.addEventListener("storage",function(e){"ngStorage-"===e.key.slice(0,10)&&(e.newValue?g[e.key.slice(10)]=angular.fromJson(e.newValue):delete g[e.key.slice(10)],r=angular.copy(g),n.$apply())}),g}]}angular.module("ngStorage",[]).factory("$localStorage",e("localStorage")).factory("$sessionStorage",e("sessionStorage"))}();